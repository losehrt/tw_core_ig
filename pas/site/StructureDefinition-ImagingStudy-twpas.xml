<?xml version="1.0" encoding="UTF-8"?>

<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="ImagingStudy-twpas"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml"><p class="res-header-id"><b>Generated Narrative: StructureDefinition ImagingStudy-twpas</b></p><a name="ImagingStudy-twpas"> </a><a name="hcImagingStudy-twpas"> </a><table border="0" cellpadding="0" cellspacing="0" style="border: 0px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top;"><tr style="border: 1px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top"><th style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; padding-top: 3px; padding-bottom: 3px" class="hierarchy"><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="The logical name of the element">Name</a></th><th style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; padding-top: 3px; padding-bottom: 3px" class="hierarchy"><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="Information about the use of the element">Flags</a></th><th style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; padding-top: 3px; padding-bottom: 3px" class="hierarchy"><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="Minimum and Maximum # of times the element can appear in the instance">Card.</a></th><th style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; padding-top: 3px; padding-bottom: 3px; width: 100px" class="hierarchy"><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="Reference to the type of the element">Type</a></th><th style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; padding-top: 3px; padding-bottom: 3px" class="hierarchy"><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="Additional information about the element">Description &amp; Constraints</a><span style="float: right"><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="Legend for this format"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3goXBCwdPqAP0wAAAldJREFUOMuNk0tIlFEYhp9z/vE2jHkhxXA0zJCMitrUQlq4lnSltEqCFhFG2MJFhIvIFpkEWaTQqjaWZRkp0g26URZkTpbaaOJkDqk10szoODP//7XIMUe0elcfnPd9zsfLOYplGrpRwZaqTtw3K7PtGem7Q6FoidbGgqHVy/HRb669R+56zx7eRV1L31JGxYbBtjKK93cxeqfyQHbehkZbUkK20goELEuIzEd+dHS+qz/Y8PTSif0FnGkbiwcAjHaU1+QWOptFiyCLp/LnKptpqIuXHx6rbR26kJcBX3yLgBfnd7CxwJmflpP2wUg0HIAoUUpZBmKzELGWcN8nAr6Gpu7tLU/CkwAaoKTWRSQyt89Q8w6J+oVQkKnBoblH7V0PPvUOvDYXfopE/SJmALsxnVm6LbkotrUtNowMeIrVrBcBpaMmdS0j9df7abpSuy7HWehwJdt1lhVwi/J58U5beXGAF6c3UXLycw1wdFklArBn87xdh0ZsZtArghBdAA3+OEDVubG4UEzP6x1FOWneHh2VDAHBAt80IbdXDcesNoCvs3E5AFyNSU5nbrDPZpcUEQQTFZiEVx+51fxMhhyJEAgvlriadIJZZksRuwBYMOPBbO3hePVVqgEJhFeUuFLhIPkRP6BQLIBrmMenujm/3g4zc398awIe90Zb5A1vREALqneMcYgP/xVQWlG+Ncu5vgwwlaUNx+3799rfe96u9K0JSDXcOzOTJg4B6IgmXfsygc7/Bvg9g9E58/cDVmGIBOP/zT8Bz1zqWqpbXIsd0O9hajXfL6u4BaOS6SeWAAAAAElFTkSuQmCC" alt="doco" style="background-color: inherit"/></a></span></th></tr><tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck1.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_resource.png" alt="." style="background-color: white; background-color: inherit" title="Resource" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy">ImagingStudy</a><a name="ImagingStudy"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="https://twcore.mohw.gov.tw/ig/twcore/0.3.2/StructureDefinition-ImagingStudy-twcore.html">TWCoreImagingStudy</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: #F7F7F7"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck13.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_slice.png" alt="." style="background-color: #F7F7F7; background-color: inherit" title="Slice Definition" class="hierarchy"/> <a style="font-style: italic; font-style: italic" href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.identifier">Slices for identifier</a><a name="ImagingStudy.identifier"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="font-style: italic"/><span style="font-style: italic">1</span><span style="font-style: italic">..</span><span style="opacity: 0.5; font-style: italic">*</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; font-style: italic; opacity: 0.5; font-style: italic" href="http://hl7.org/fhir/R4/datatypes.html#Identifier">Identifier</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5; font-style: italic">整項影像檢查的識別碼</span><br style="font-style: italic"/><span style="font-weight:bold; font-style: italic">Slice: </span><span style="font-style: italic">Unordered, Closed by value:system</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck125.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vline.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end_slicer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_slice_item.png" alt="." style="background-color: white; background-color: inherit" title="Slice Item" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.identifier:study-uid" title="Slice study-uid">identifier:study-uid</a><a name="ImagingStudy.identifier.2"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="padding-left: 3px; padding-right: 3px; color: white; background-color: red" title="This element must be supported">S</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..1</td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#Identifier">Identifier</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">整項影像檢查的識別碼。上傳至健保署時，必要填寫 DICOM 檢查實例 UID (Study Instance UID)</td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: #F7F7F7"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck1250.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vline.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_slice.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: #F7F7F7; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.identifier:study-uid.system">system</a><a name="ImagingStudy.identifier.system"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="padding-left: 3px; padding-right: 3px; color: white; background-color: red" title="This element must be supported">S</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..<span style="opacity: 0.5">1</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#uri">uri</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">The namespace for the identifier value</span><br/><span style="font-weight:bold">Required Pattern: </span><span style="color: darkgreen">urn:dicom:uid</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck1240.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vline.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end_slice.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: white; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.identifier:study-uid.value">value</a><a name="ImagingStudy.identifier.value"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="padding-left: 3px; padding-right: 3px; color: white; background-color: red" title="This element must be supported">S</span><a style="padding-left: 3px; padding-right: 3px; border: 1px maroon solid; font-weight: bold; color: #301212; background-color: #fdf4f4;; padding-left: 3px; padding-right: 3px; border: 1px maroon solid; font-weight: bold; color: #301212; background-color: #fdf4f4;" href="http://hl7.org/fhir/R4/conformance-rules.html#constraints" title="This element has or is affected by constraints ( StudyUID )">C</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..<span style="opacity: 0.5">1</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#string">string</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">The value that is unique</span><br class="constraint"/><span title="null" class="constraint">Constraints: </span><span style="font-weight:bold" title="以`urn:oid:`開頭，後接一串由數字`0`-`9`及`.`組成的字串。第一個數字須為個位數，每個數字不得為`0`開頭（除非為單一的`0`），整體(不含`urn:oid:`)長度不得超過64 bytes。" class="constraint">StudyUID</span><br/><span style="font-weight:bold">Example General: </span><span style="color: darkgreen">urn:oid:2.16.886.2102.54.4546465747.465465465</span><br/><span style="font-weight:bold">Example General: </span><span style="color: darkgreen">urn:oid:2.16.886.2102.54.4546465747.0.46546546</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: #F7F7F7"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck10.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: #F7F7F7; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.modality">modality</a><a name="ImagingStudy.modality"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">0</span><span style="opacity: 0.5">..</span><span style="opacity: 0.5">*</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#Coding">Coding</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">列出所有系列中用於實際影像獲取的儀器類型</span><br class="binding"/><span style="font-weight:bold" title="null" class="binding">Binding: </span><a href="ValueSet-dicom-cid-29-AcquisitionModality.html" title="https://nhicore.nhi.gov.tw/pas/ValueSet/dicom-cid-29-AcquisitionModality" class="binding">HL7-AcquisitionModality值集</a><span title="null" class="binding"> (</span><a href="http://hl7.org/fhir/R4/terminologies.html#extensible" title="To be conformant, the concept in this element SHALL be from the specified value set if any of the codes within the value set can apply to the concept being communicated.  If the value set does not cover the concept (based on human review), alternate codings (or, data type allowing, text) may be included instead." class="binding">extensible</a><span title="null" class="binding">)</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck10.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_reference.png" alt="." style="background-color: white; background-color: inherit" title="Reference to another Resource" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.subject">subject</a><a name="ImagingStudy.subject"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">1</span><span style="opacity: 0.5">..</span><span style="opacity: 0.5">1</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="http://hl7.org/fhir/R4/references.html">Reference</a>(<a href="StructureDefinition-Patient-twpas.html">病人資訊-Patient TWPAS</a>)</td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">誰或什麼是影像檢查的對象</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: #F7F7F7"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck01.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: #F7F7F7; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.series">series</a><a name="ImagingStudy.series"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..<span style="opacity: 0.5">*</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#BackboneElement">BackboneElement</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">每項影像檢查有一個或多個系列(series)的實例</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck010.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: white; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.series.modality">modality</a><a name="ImagingStudy.series.modality"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">1</span><span style="opacity: 0.5">..</span><span style="opacity: 0.5">1</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#Coding">Coding</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">此系列實例所使用的成像儀器</span><br class="binding"/><span style="font-weight:bold" title="null" class="binding">Binding: </span><a href="ValueSet-dicom-cid-29-AcquisitionModality.html" title="https://nhicore.nhi.gov.tw/pas/ValueSet/dicom-cid-29-AcquisitionModality" class="binding">HL7-AcquisitionModality值集</a><span title="null" class="binding"> (</span><a href="http://hl7.org/fhir/R4/terminologies.html#extensible" title="To be conformant, the concept in this element SHALL be from the specified value set if any of the codes within the value set can apply to the concept being communicated.  If the value set does not cover the concept (based on human review), alternate codings (or, data type allowing, text) may be included instead." class="binding">extensible</a><span title="null" class="binding">)</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: #F7F7F7"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck010.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: #F7F7F7; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.series.bodySite">bodySite</a><a name="ImagingStudy.series.bodySite"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="padding-left: 3px; padding-right: 3px; color: white; background-color: red" title="This element must be supported">S</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">0</span><span style="opacity: 0.5">..</span><span style="opacity: 0.5">1</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#Coding">Coding</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">影像檢查的身體部位<br class="binding"/><span style="font-weight:bold" title="null" class="binding">Binding: </span><a href="ValueSet-sct-body-site.html" title="https://nhicore.nhi.gov.tw/pas/ValueSet/sct-body-site" class="binding">SNOMEDCT-健保事前審查-身體部位值集</a><span title="null" class="binding"> (</span><a href="http://hl7.org/fhir/R4/terminologies.html#required" title="To be conformant, the concept in this element SHALL be from the specified value set." class="binding">required</a><span title="null" class="binding">)</span></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck001.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: white; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.series.instance">instance</a><a name="ImagingStudy.series.instance"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: #F7F7F7"><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck0000.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_blank.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: #F7F7F7; background-color: inherit" title="Element" class="hierarchy"/> <a href="StructureDefinition-ImagingStudy-twpas-definitions.html#ImagingStudy.series.instance.uid">uid</a><a name="ImagingStudy.series.instance.uid"> </a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"/><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><span style="opacity: 0.5">1</span><span style="opacity: 0.5">..</span><span style="opacity: 0.5">1</span></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="opacity: 0.5; opacity: 0.5" href="http://hl7.org/fhir/R4/datatypes.html#id">id</a></td><td style="vertical-align: top; text-align : var(--ig-left,left); background-color: #F7F7F7; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">DICOM影像。1.填寫DICOM欄位至ImagingStudy: Study Instance UID, Series Instance UID, SOP Instance, Modality, SOP Class UID。2.其餘資訊需額外填寫，包含: Status，影像檢查的身體部位 (SNOMED CT)、Procedure Code等。3.上傳影像需打包成DICOMDIR且壓縮成DCF。</td></tr>
<tr><td colspan="5" class="hierarchy"><br/><a href="https://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#table-views" title="Legend for this format"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3goXBCwdPqAP0wAAAldJREFUOMuNk0tIlFEYhp9z/vE2jHkhxXA0zJCMitrUQlq4lnSltEqCFhFG2MJFhIvIFpkEWaTQqjaWZRkp0g26URZkTpbaaOJkDqk10szoODP//7XIMUe0elcfnPd9zsfLOYplGrpRwZaqTtw3K7PtGem7Q6FoidbGgqHVy/HRb669R+56zx7eRV1L31JGxYbBtjKK93cxeqfyQHbehkZbUkK20goELEuIzEd+dHS+qz/Y8PTSif0FnGkbiwcAjHaU1+QWOptFiyCLp/LnKptpqIuXHx6rbR26kJcBX3yLgBfnd7CxwJmflpP2wUg0HIAoUUpZBmKzELGWcN8nAr6Gpu7tLU/CkwAaoKTWRSQyt89Q8w6J+oVQkKnBoblH7V0PPvUOvDYXfopE/SJmALsxnVm6LbkotrUtNowMeIrVrBcBpaMmdS0j9df7abpSuy7HWehwJdt1lhVwi/J58U5beXGAF6c3UXLycw1wdFklArBn87xdh0ZsZtArghBdAA3+OEDVubG4UEzP6x1FOWneHh2VDAHBAt80IbdXDcesNoCvs3E5AFyNSU5nbrDPZpcUEQQTFZiEVx+51fxMhhyJEAgvlriadIJZZksRuwBYMOPBbO3hePVVqgEJhFeUuFLhIPkRP6BQLIBrmMenujm/3g4zc398awIe90Zb5A1vREALqneMcYgP/xVQWlG+Ncu5vgwwlaUNx+3799rfe96u9K0JSDXcOzOTJg4B6IgmXfsygc7/Bvg9g9E58/cDVmGIBOP/zT8Bz1zqWqpbXIsd0O9hajXfL6u4BaOS6SeWAAAAAElFTkSuQmCC" alt="doco" style="background-color: inherit"/> Documentation for this format</a></td></tr></table></div>
  </text>
  <url value="https://nhicore.nhi.gov.tw/pas/StructureDefinition/ImagingStudy-twpas"/>
  <version value="1.0.6"/>
  <name value="ImagingStudyTWPAS"/>
  <title value="DICOM影像-ImagingStudy TWPAS"/>
  <status value="active"/>
  <date value="2025-07-30T10:48:03+08:00"/>
  <publisher value="衛生福利部中央健康保險署"/>
  <contact>
    <name value="衛生福利部中央健康保險署"/>
    <telecom>
      <system value="url"/>
      <value value="https://www.nhi.gov.tw"/>
    </telecom>
  </contact>
  <description value="此DICOM影像-ImagingStudy TWPAS Profile說明本IG如何進一步定義臺灣核心-影像檢查(TW Core ImagingStudy) Profile以呈現癌藥事前審查中疾病資訊之影像報告的影像檢查的身體部位及DICOM影像"/>
  <fhirVersion value="4.0.1"/>
  <mapping>
    <identity value="workflow"/>
    <uri value="http://hl7.org/fhir/workflow"/>
    <name value="Workflow Pattern"/>
  </mapping>
  <mapping>
    <identity value="rim"/>
    <uri value="http://hl7.org/v3"/>
    <name value="RIM Mapping"/>
  </mapping>
  <mapping>
    <identity value="dicom"/>
    <uri value="http://nema.org/dicom"/>
    <name value="DICOM Tag Mapping"/>
  </mapping>
  <mapping>
    <identity value="w5"/>
    <uri value="http://hl7.org/fhir/fivews"/>
    <name value="FiveWs Pattern Mapping"/>
  </mapping>
  <mapping>
    <identity value="v2"/>
    <uri value="http://hl7.org/v2"/>
    <name value="HL7 v2 Mapping"/>
  </mapping>
  <kind value="resource"/>
  <abstract value="false"/>
  <type value="ImagingStudy"/>
  <baseDefinition value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/ImagingStudy-twcore"/>
  <derivation value="constraint"/>
  <snapshot>
    <extension url="http://hl7.org/fhir/tools/StructureDefinition/snapshot-base-version">
      <valueString value="0.3.2"/>
    </extension>
    <element id="ImagingStudy">
      <path value="ImagingStudy"/>
      <short value="在單一檢查中產生的一組影像【一個或多個系列(series)的參照影像】"/>
      <definition value="DICOM影像檢查中產生的內容。每項檢查包含若干系列(series)，每一系列只使用一種影像儀器（例如X光、電腦斷層掃描CT、核磁共振MR、超音波等），每個系列由在相同背景下獲得或製作的服務-物件對實例（Service-Object Pair Instances，簡稱SOP實例，包含影像或其他類型的資料）所組成。但一項檢查中可能包括多個使用不同影像儀器的系列。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <constraint>
        <key value="dom-2"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL NOT contain nested Resources"/>
        <expression value="contained.contained.empty()"/>
        <xpath value="not(parent::f:contained and f:contained)"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-3"/>
        <severity value="error"/>
        <human value="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource"/>
        <expression value="contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()"/>
        <xpath value="not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-4"/>
        <severity value="error"/>
        <human value="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated"/>
        <expression value="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-5"/>
        <severity value="error"/>
        <human value="If a resource is contained in another resource, it SHALL NOT have a security label"/>
        <expression value="contained.meta.security.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:security))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice">
          <valueBoolean value="true"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation">
          <valueMarkdown value="When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."/>
        </extension>
        <key value="dom-6"/>
        <severity value="warning"/>
        <human value="A resource should have narrative for robust management"/>
        <expression value="text.`div`.exists()"/>
        <xpath value="exists(f:text/h:div)"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="Entity. Role, or Act"/>
      </mapping>
      <mapping>
        <identity value="workflow"/>
        <map value="Event"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Act[classCode=COMPOSITION, moodCode=EVN]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="Reference IHE radiology TF vol 2 table 4.14-1"/>
      </mapping>
    </element>
    <element id="ImagingStudy.id">
      <path value="ImagingStudy.id"/>
      <short value="不重複的ID用以識別儲存在特定FHIR Server中的ImagingStudy紀錄，通常又稱為邏輯性ID。"/>
      <definition value="resource的邏輯ID，在resource的URL中使用。一旦指定，這個值永遠不會改變。"/>
      <comment value="一個resource使用新增操作（create operation）提交給伺服器時，此resource沒有id，它的id在resource被創建後由伺器分配/指定。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="id"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="true"/>
    </element>
    <element id="ImagingStudy.meta">
      <path value="ImagingStudy.meta"/>
      <short value="此ImagingStudy Resource的metadata"/>
      <definition value="關於resource的metadata。這是由基礎建設維護的內容。內容的更改可能並不總是與resource的版本更改相關聯。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.meta"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Meta"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
    </element>
    <element id="ImagingStudy.implicitRules">
      <path value="ImagingStudy.implicitRules"/>
      <short value="創建此內容所依據的一組規則"/>
      <definition value="構建resource時遵循的一系列規則的參照，在處理內容時必須理解這些規則。通常這是對IG所定義之特殊規則及其他profiles的參照。"/>
      <comment value="宣告這套規則限制了內容只能被有限的交易夥伴所理解。這從本質上限制了資料的長期有用性。然而，現有的健康生態體系高度分裂，還沒有準備好以普遍可計算的方式定義、收集和交換資料。只要有可能，實作者和/或規範編寫者應該避免使用這個資料項目。通常在使用時，此URL是對IG的參照，此IG將這些特殊規則與其他profiles、value sets等一起定義為其敘述的一部分。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.implicitRules"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies it's meaning or interpretation"/>
      <isSummary value="true"/>
    </element>
    <element id="ImagingStudy.language">
      <path value="ImagingStudy.language"/>
      <short value="用以表述ImagingStudy Resource內容的語言。"/>
      <definition value="編寫此resource的語言"/>
      <comment value="提供語言是為了支援索引和可存取性（通常，文字表述轉語音等服務使用此語言標籤）。html lanuage tag適用於此敘述。resource上的語言標籤可用於指定從resource中的資料所產成的其他表述之語言。不是所有的內容都必須使用此語言。不應該假定Resource.language自動適用於敘述。如果指定語言，它也應該被指定在html中的div資料項目（關於xml:lang和html lang屬性之間的關係，見HTML5中的規則）。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.language"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <example>
        <label value="Value"/>
        <valueString value="zh-TW"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-maxValueSet">
          <valueCanonical value="http://hl7.org/fhir/ValueSet/all-languages"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Language"/>
        </extension>
        <strength value="preferred"/>
        <description value="人類語言；鼓勵使用CommonLanguages代碼表中的代碼，但不強制一定要使用此代碼表，你也可使用其他代碼表的代碼或單純以文字表示。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/languages"/>
      </binding>
    </element>
    <element id="ImagingStudy.text">
      <path value="ImagingStudy.text"/>
      <short value="ImagingStudy Resource之內容摘要以供人閱讀"/>
      <definition value="人可讀的敘述，包含resource的摘要，可用於向人表述resource的內容。敘述不需要對所有的結構化資料進行編碼，但需要包含足夠的細節使人在閱讀敘述時理解「臨床安全性」。resource定義有哪些內容應該在敘述中表示，以確保臨床安全。"/>
      <comment value="內嵌（contained）的resource沒有敘述，非內嵌（contained）的resource則 **建議應該（SHOULD）** 有敘述。有時resource可能只有文字表述，很少或沒有額外的結構化資料（只要滿足所有minOccurs=1的資料項目）。這可能出現在舊系統的資料，當資訊以 「文字表述區塊（text blob） 」的形式被取得，或者文字表述是原始輸入或說明，而編碼資訊稍後再添加。"/>
      <alias value="narrative"/>
      <alias value="html"/>
      <alias value="xhtml"/>
      <alias value="display"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DomainResource.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Narrative"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="Act.text?"/>
      </mapping>
    </element>
    <element id="ImagingStudy.contained">
      <path value="ImagingStudy.contained"/>
      <short value="Contained, inline Resources"/>
      <definition value="These resources do not have an independent existence apart from the resource that contains them - they cannot be identified independently, and nor can they have their own independent transaction scope."/>
      <comment value="This should never be done when the content can be identified properly, as once identification is lost, it is extremely difficult (and context dependent) to restore it again. Contained resources may have profiles and tags In their meta elements, but SHALL NOT have security labels."/>
      <alias value="inline resources"/>
      <alias value="anonymous resources"/>
      <alias value="contained resources"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.contained"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Resource"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.extension">
      <path value="ImagingStudy.extension"/>
      <short value="Additional content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the resource. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.modifierExtension">
      <path value="ImagingStudy.modifierExtension"/>
      <short value="Extensions that cannot be ignored"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the resource and that modifies the understanding of the element that contains it and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier">
      <path value="ImagingStudy.identifier"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="system"/>
        </discriminator>
        <rules value="closed"/>
      </slicing>
      <short value="整項影像檢查的識別碼"/>
      <definition value="ImagingStudy的識別碼，如DICOM檢查實例UID (Study Instance UID)和檢查單號(Accession Number)。"/>
      <comment value="有關DICOM檢查實例UID的編碼，請參閱「影像檢查實作說明(Imaging Study Implementation Notes)」下的討論。檢查單號(Accession Number)應使用ACSN識別碼類型 (Identifier type)。"/>
      <requirements value="如果此 ImagingStudy 中存在一個或多個 series 資料項目，那麼就應該有一個DICOM Study UID識別碼（見[DICOM PS 3.3 C.7.2 .](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html)"/>
      <alias value="StudyInstanceUID"/>
      <alias value="AccessionNumber"/>
      <min value="1"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.identifier"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Identifier"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.identifier"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.identifier"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".id and .inboundRelationship[typeCode=COMP].source[classCode=ACSN, moodCode=EVN].id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="StudyInstanceUID (0020,000D) | Accession Number and Issuer (0080,0050)+(0080,0051) | Study ID (0020,0010)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid">
      <path value="ImagingStudy.identifier"/>
      <sliceName value="study-uid"/>
      <short value="整項影像檢查的識別碼。上傳至健保署時，必要填寫 DICOM 檢查實例 UID (Study Instance UID)"/>
      <definition value="ImagingStudy的識別碼，如DICOM檢查實例UID (Study Instance UID)和檢查單號(Accession Number)。"/>
      <comment value="有關DICOM檢查實例UID的編碼，請參閱「影像檢查實作說明(Imaging Study Implementation Notes)」下的討論。檢查單號(Accession Number)應使用ACSN識別碼類型 (Identifier type)。"/>
      <requirements value="如果此 ImagingStudy 中存在一個或多個 series 資料項目，那麼就應該有一個DICOM Study UID識別碼（見[DICOM PS 3.3 C.7.2 .](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html)"/>
      <alias value="StudyInstanceUID"/>
      <alias value="AccessionNumber"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.identifier"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Identifier"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.identifier"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.identifier"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".id and .inboundRelationship[typeCode=COMP].source[classCode=ACSN, moodCode=EVN].id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="StudyInstanceUID (0020,000D) | Accession Number and Issuer (0080,0050)+(0080,0051) | Study ID (0020,0010)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.id">
      <path value="ImagingStudy.identifier.id"/>
      <representation value="xmlAttr"/>
      <short value="Unique id for inter-element referencing"/>
      <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.extension">
      <path value="ImagingStudy.identifier.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="Additional content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.use">
      <path value="ImagingStudy.identifier.use"/>
      <short value="usual | official | temp | secondary | old (If known)"/>
      <definition value="The purpose of this identifier."/>
      <comment value="Applications can assume that an identifier is permanent unless it explicitly says that it is temporary."/>
      <requirements value="Allows the appropriate identifier for a particular context of use to be selected from among a set of identifiers."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.use"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="This is labeled as &quot;Is Modifier&quot; because applications should not mistake a temporary id for a permanent one."/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="IdentifierUse"/>
        </extension>
        <strength value="required"/>
        <description value="Identifies the purpose for this identifier, if known ."/>
        <valueSet value="http://hl7.org/fhir/ValueSet/identifier-use|4.0.1"/>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="N/A"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Role.code or implied by context"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.type">
      <path value="ImagingStudy.identifier.type"/>
      <short value="Description of identifier"/>
      <definition value="A coded type for the identifier that can be used to determine which identifier to use for a specific purpose."/>
      <comment value="This element deals only with general categories of identifiers.  It SHOULD not be used for codes that correspond 1..1 with the Identifier.system. Some identifiers may fall into multiple categories due to common usage.   Where the system is known, a type is unnecessary because the type is always part of the system definition. However systems often need to handle identifiers where the system is not known. There is not a 1:1 relationship between type and system, since many different systems have the same type."/>
      <requirements value="Allows users to make use of identifiers when the identifier system is not known."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.type"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="IdentifierType"/>
        </extension>
        <strength value="extensible"/>
        <description value="A coded type for an identifier that can be used to determine which identifier to use for a specific purpose."/>
        <valueSet value="http://hl7.org/fhir/ValueSet/identifier-type"/>
      </binding>
      <mapping>
        <identity value="v2"/>
        <map value="CX.5"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Role.code or implied by context"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.system">
      <path value="ImagingStudy.identifier.system"/>
      <short value="The namespace for the identifier value"/>
      <definition value="Establishes the namespace for the value - that is, a URL that describes a set values that are unique."/>
      <comment value="Identifier.system is always case sensitive."/>
      <requirements value="There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers."/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Identifier.system"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <patternUri value="urn:dicom:uid"/>
      <example>
        <label value="General"/>
        <valueUri value="http://www.acme.com/identifiers/patient"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.4 / EI-2-4"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="II.root or Role.id.root"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./IdentifierType"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.value">
      <path value="ImagingStudy.identifier.value"/>
      <short value="The value that is unique"/>
      <definition value="The portion of the identifier typically relevant to the user and which is unique within the context of the system."/>
      <comment value="If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="Identifier.value"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <example>
        <label value="General"/>
        <valueString value="123456"/>
      </example>
      <example>
        <label value="General"/>
        <valueString value="urn:oid:2.16.886.2102.54.4546465747.465465465"/>
      </example>
      <example>
        <label value="General"/>
        <valueString value="urn:oid:2.16.886.2102.54.4546465747.0.46546546"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="StudyUID"/>
        <severity value="error"/>
        <human value="以`urn:oid:`開頭，後接一串由數字`0`-`9`及`.`組成的字串。第一個數字須為個位數，每個數字不得為`0`開頭（除非為單一的`0`），整體(不含`urn:oid:`)長度不得超過64 bytes。"/>
        <expression value="value.matches('^urn:oid:(0|[1-9])(.(0|[1-9][0-9]*)){0,63}$')"/>
        <source value="https://nhicore.nhi.gov.tw/pas/StructureDefinition/ImagingStudy-twpas"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.1 / EI.1"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="II.extension or II.root if system indicates OID or GUID (Or Role.id.extension or root)"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./Value"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.period">
      <path value="ImagingStudy.identifier.period"/>
      <short value="Time period when id is/was valid for use"/>
      <definition value="Time period during which identifier is/was valid for use."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.period"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Period"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.7 + CX.8"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Role.effectiveTime or implied by context"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./StartDate and ./EndDate"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier:study-uid.assigner">
      <path value="ImagingStudy.identifier.assigner"/>
      <short value="Organization that issued id (may be just text)"/>
      <definition value="Organization that issued/manages the identifier."/>
      <comment value="The Identifier.assigner may omit the .reference element and only contain a .display element reflecting the name or other textual information about the assigning organization."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Identifier.assigner"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Organization"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="CX.4 / (CX.4,CX.9,CX.10)"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="II.assigningAuthorityName but note that this is an improper use by the definition of the field.  Also Role.scoper"/>
      </mapping>
      <mapping>
        <identity value="servd"/>
        <map value="./IdentifierIssuingAuthority"/>
      </mapping>
    </element>
    <element id="ImagingStudy.status">
      <path value="ImagingStudy.status"/>
      <short value="registered | available | cancelled | entered-in-error | unknown"/>
      <definition value="影像檢查的當前狀態。"/>
      <comment value="「未知」並不意味著「其他」類型；必須符合已確定的某種狀態。當創建系統不確定當前狀態時，會使用「未知」這一選項。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.status"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="This element is labelled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ImagingStudyStatus"/>
        </extension>
        <strength value="required"/>
        <description value="影像檢查的當前狀態；應填入所綁定值集中的其中一個代碼。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/imagingstudy-status|4.0.1"/>
      </binding>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.status"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.status"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="Varies by domain"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".status"/>
      </mapping>
    </element>
    <element id="ImagingStudy.modality">
      <path value="ImagingStudy.modality"/>
      <short value="列出所有系列中用於實際影像獲取的儀器類型"/>
      <definition value="列出所有系列中用於實際影像獲取的儀器類型，即在DICOM Context Group 29（值集的唯一識別碼為1.2.840.10008.6.1.19）中定義的類型。"/>
      <alias value="ModalitiesInStudy"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.modality"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <strength value="extensible"/>
        <valueSet value="https://nhicore.nhi.gov.tw/pas/ValueSet/dicom-cid-29-AcquisitionModality"/>
      </binding>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.class"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".code"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0061)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.subject">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-display-hint">
        <valueString value="dicom=http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.2.2.html"/>
      </extension>
      <path value="ImagingStudy.subject"/>
      <short value="誰或什麼是影像檢查的對象"/>
      <definition value="影像檢查的對象，通常是病人。"/>
      <comment value="影像檢查的對象，若為品質保證的標準對照物（QA幻影）可用 Device 作記錄。若其檢查對象是多隻小動物（如多隻老鼠），則可以將它們作為 Group 來進行記錄。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.subject"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://nhicore.nhi.gov.tw/pas/StructureDefinition/Patient-twpas"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.subject"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.subject[x]"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=SBJ].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0010/*)"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.subject"/>
      </mapping>
    </element>
    <element id="ImagingStudy.encounter">
      <path value="ImagingStudy.encounter"/>
      <short value="與此影像檢查有關的就醫事件(Encounter)"/>
      <definition value="進行此影像檢查的健康照護事件（例如：病人與健康照護服務提供者的互動）。"/>
      <comment value="病人接受影像檢查時所在的就醫情境。不過，有些相關事件可能在病人就醫前或完成就醫後發生，但這些事件仍與就醫情境有關（例如：病人入院前的檢查）。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.encounter"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Encounter-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.encounter"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.context"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=COMP].source[classCode=ENC, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.started">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-display-hint">
        <valueString value="dicom=http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html#sect_C.7.2.1"/>
      </extension>
      <path value="ImagingStudy.started"/>
      <short value="影像檢查何時開始"/>
      <definition value="檢查開始的日期和時間"/>
      <alias value="StudyDate"/>
      <alias value="StudyTime"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.started"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="dateTime"/>
      </type>
      <example>
        <label value="General"/>
        <valueDateTime value="2011-01-01T11:01:20+03:00"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.occurrence[x]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.init"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".effectiveTime"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0020)+(0008,0030)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.basedOn">
      <path value="ImagingStudy.basedOn"/>
      <short value="要求執行此影像檢查的依據"/>
      <definition value="導致進行此影像檢查的診斷報告清單"/>
      <requirements value="支援分組處置（一項影像檢查支援多個醫令處置，如胸腔/腹部/骨盆CT）。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.basedOn"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/CarePlan"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ServiceRequest"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Appointment"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/AppointmentResponse"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Task"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.basedOn"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.cause"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=FLFS].target[classCode=DGIMG, moodCode=RQO]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0032,1064)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.referrer">
      <path value="ImagingStudy.referrer"/>
      <short value="轉診醫師"/>
      <definition value="請求/轉診的醫師"/>
      <alias value="ReferringPhysiciansName"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.referrer"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Practitioner-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/PractitionerRole-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.cause"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=FLFS].target[classCode=DGIMG, moodCode=RQO].participation[typeCode=AUT].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0090)+(0008,0096)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.interpreter">
      <path value="ImagingStudy.interpreter"/>
      <short value="誰解讀了影像"/>
      <definition value="誰閱讀了檢查報告並解讀了影像或其他內容"/>
      <alias value="Name of Physician(s) Reading Study"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.interpreter"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Practitioner-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/PractitionerRole-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.witness"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1060)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.endpoint">
      <path value="ImagingStudy.endpoint"/>
      <short value="影像檢查存取的端點(endpoint)"/>
      <definition value="提供影像檢查資料存取的網路服務，包括查詢、觀看或下載影像檢查資料。更多有關如何使用DICOM端點的詳細資訊，請查看實作指引。整體檢查的網絡連接設定（端點）適用於檢查中的每一個影像系列。但如果某個影像系列有自己特定的網路連接設定(稱為系統端點)，且這個設定的類型（Endpoint.connectionType）與整體檢查的端點相同，則該系列將依據其自身的設定進行連接。"/>
      <comment value="常見的端點類型包括：DICOM WADO-RS，它透過RESTful API以原始或轉換後的格式（如JPG、PNG）來查DICOM影像檔案；DICOM WADO-URI，這也能查詢原始或轉換後的影像，但它是透過HTTP查詢方式實現；DICOM QIDO-RS，它允許使用RESTful查詢方式來獲取DICOM資訊，而無需下載影像檔案本身；還有IHE Invoke Image Display（IID），這是一種標準的網路影像查看器(viewer)啟動方式。"/>
      <requirements value="說明了如何查看（例如：使用IHE的IID profile）或查詢（例如：使用DICOM的WADO-URI和WADO-RS）影像檢查、其影像系列或單個影像的方法。整體檢查的基礎位置設定（baseLocation）通常適用於檢查中的所有影像系列。但如果某個影像系列有自己的基礎位置設定（稱為系列級baseLocation），且這個設定與整體檢查的設定類型相同，則該系列將按照自己的設定進行操作。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.endpoint"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Endpoint"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="Not supported"/>
      </mapping>
    </element>
    <element id="ImagingStudy.numberOfSeries">
      <path value="ImagingStudy.numberOfSeries"/>
      <short value="影像檢查相關Series的數量"/>
      <definition value="在醫學影像檢查中，顯示的series數量有時會比Resource實際包含的更多。這可能是由於Resource的限制、安全問題或其他因素所致。如果Resource中包含至少一個series的資料項目，那麼這個series數量就應當被明確標出。"/>
      <alias value="NumberOfStudyRelatedSeries"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.numberOfSeries"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP, subsetCode=SUMM].target[classCode=OBSSER, moodCode=EVN].repeatNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,1206)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.numberOfInstances">
      <path value="ImagingStudy.numberOfInstances"/>
      <short value="影像檢查相關Instances的數量"/>
      <definition value="在醫學影像檢查中，顯示的SOP instances數量有時會比Resource實際包含的更多。這可能是由於instance的限制、安全問題或其他因素所致。如果Resource中包含至少一個instance的資料項目，那麼這個資料項目就應該被包含在內。"/>
      <alias value="NumberOfStudyRelatedInstances"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.numberOfInstances"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP, subsetCode=SUMM].target[classCode=DGIMG, moodCode=EVN].repeatNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,1208)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureReference">
      <path value="ImagingStudy.procedureReference"/>
      <short value="所執行的處置(Procedure)參照"/>
      <definition value="此影像檢查是此處置(Procedure)的一部分"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.procedureReference"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Procedure-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.partOf"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=PROC, moodCode=EVN]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1032)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode">
      <path value="ImagingStudy.procedureCode"/>
      <short value="執行的處置代碼"/>
      <definition value="執行的處置類型代碼"/>
      <comment value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
      <alias value="ProcedureCodeSequence"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.procedureCode"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ImagingProcedureCode"/>
        </extension>
        <strength value="extensible"/>
        <description value="此資料項目為可擴充綁定預設國際標準值集，但實作者可視實務專案需求只綁定以下slices中的任一值集。目前未只限定綁定預設值集是因為尚無slice值集與預設國際標準值集的代碼對應表，待後續有相對的代碼對應表後將建議採用國際標準值集作為唯一綁定值集並針對該值集進行擴充與管理，以利進行跨國與跨系統之資料交換。"/>
        <valueSet value="http://www.rsna.org/RadLex_Playbook.aspx"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode.id">
      <path value="ImagingStudy.procedureCode.id"/>
      <representation value="xmlAttr"/>
      <short value="唯一可識別ID，以供資料項目間相互參照。"/>
      <definition value="resource中資料項目的唯一ID（用於內部參照）。這可以是任何不含空格的字串。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode.extension">
      <path value="ImagingStudy.procedureCode.extension"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="url"/>
        </discriminator>
        <description value="Extensions are always sliced by (at least) url"/>
        <rules value="open"/>
      </slicing>
      <short value="擴充的資料項目"/>
      <definition value="擴充的資料項目"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
    </element>
    <element id="ImagingStudy.procedureCode.coding">
      <path value="ImagingStudy.procedureCode.coding"/>
      <slicing>
        <discriminator>
          <type value="pattern"/>
          <path value="$this"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
      <short value="此資料項目為可擴充綁定預設國際標準值集，但實作者可視實務專案需求只綁定以下slices中的任一值集。目前未只限定綁定預設值集是因為尚無slice值集與預設國際標準值集的代碼對應表，待後續有相對的代碼對應表後將建議採用國際標準值集作為唯一綁定值集並針對該值集進行擴充與管理，以利進行跨國與跨系統之資料交換。"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，例如：SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles ）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode.coding:radLex-radiology-lexicon">
      <path value="ImagingStudy.procedureCode.coding"/>
      <sliceName value="radLex-radiology-lexicon"/>
      <short value="應填入所綁定值集中的其中一個代碼。"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照。"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，如SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="required"/>
        <valueSet value="http://www.rsna.org/RadLex_Playbook.aspx"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode.coding:icd10-pcs-2021">
      <path value="ImagingStudy.procedureCode.coding"/>
      <sliceName value="icd10-pcs-2021"/>
      <short value="此為臺灣健保署2021年中文版ICD-10-PCS，可免費使用，可依情境選用此代碼。"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照。"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，如SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="required"/>
        <description value="應填入所綁定值集中的其中一個代碼。"/>
        <valueSet value="https://twcore.mohw.gov.tw/ig/twcore/ValueSet/icd-10-pcs-2021-tw"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode.coding:icd10-pcs-2023">
      <path value="ImagingStudy.procedureCode.coding"/>
      <sliceName value="icd10-pcs-2023"/>
      <short value="此為臺灣健保署2023年中文版ICD-10-PCS，可免費使用，可依情境選用此代碼。"/>
      <definition value="由專門術語系統（terminology system）所定義之代碼的參照。"/>
      <comment value="代碼可以在列舉清單（enumerations）或代碼清單（code lists）中非常隨意地定義，直至有非常正式的定義，如SNOMED CT—更多資訊見HL7 v3核心原則（Core Principles）。編碼的排序是未定義的因而 **必須沒有（SHALL NOT）** 被用來推斷意義。一般來說，最多只有一個編碼值（coding values）會被標記為UserSelected = true。"/>
      <requirements value="允許代碼系統中的替代編碼，以及翻譯到其他編碼系統。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.coding"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Coding-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="required"/>
        <description value="應填入所綁定值集中的其中一個代碼。"/>
        <valueSet value="https://twcore.mohw.gov.tw/ig/twcore/ValueSet/icd-10-pcs-2023-tw"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE subset one of the sets of component 1-3 or 4-6"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CV"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:Coding rdfs:subClassOf dt:CDCoding"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true"/>
      </extension>
      <path value="ImagingStudy.procedureCode.text"/>
      <short value="概念的文字表示法"/>
      <definition value="輸入資料的使用者所見／所選／所說的人類可讀文字表述，和（或）其代表使用者的預期含義。"/>
      <comment value="很多時候，此文字表述與其中一個代碼的顯示名稱相同。"/>
      <requirements value="專門術語中的代碼並不總是能捕捉人類使用的細微差別的正確意義，或者根本就沒有合適的代碼；這些情況下，文字表述被用來捕捉來源的全部意義。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="CodeableConcept.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="v2"/>
        <map value="C*E.9. But note many systems use C*E.2 for this"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="./originalText[mediaType/code=&quot;text/plain&quot;]/data"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept.text rdfs:subPropertyOf dt:CD.originalText"/>
      </mapping>
    </element>
    <element id="ImagingStudy.location">
      <path value="ImagingStudy.location"/>
      <short value="影像檢查發生的地點"/>
      <definition value="進行影像檢查的主要實體地點"/>
      <requirements value="將事件與可能保存記錄的地點相關聯，並提供圍繞事件發生的背景資訊（例如：事件是發生在專門的醫療環境內或外）。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.location"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Location-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.location"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.where[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="EVN.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=LOC].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1040) | (0040,0243)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.reasonCode">
      <path value="ImagingStudy.reasonCode"/>
      <short value="為什麼進行此影像檢查"/>
      <definition value="說明為什麼要求進行影像檢查的臨床情況"/>
      <comment value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.reasonCode"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <binding>
        <strength value="extensible"/>
        <description value="應填入所綁定值集中適合的代碼，確定無適合的代碼才可以使用其他值集的代碼來表示。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/procedure-reason"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="ImagingStudy.reasonReference">
      <path value="ImagingStudy.reasonReference"/>
      <short value="為什麼進行此影像檢查"/>
      <definition value="這表示有另外一個Resource，其存在是進行這項檢查的合理原因。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.reasonReference"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Condition-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Observation-laboratoryResult-twcore"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Media"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/DiagnosticReport-twcore"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/DocumentReference"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.reasonReference"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.why[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="EVN.4 or by domain"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=RSON].target"/>
      </mapping>
    </element>
    <element id="ImagingStudy.note">
      <path value="ImagingStudy.note"/>
      <short value="用戶自定義的評論"/>
      <definition value="按照建議的DICOM對應關係，這個資料項目是來自影像檢查描述屬性（0008,1030）。有關影像檢查的觀察或發現應該記錄在別的Resource裡，比如說Observation，而不是在這個資料項目。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.note"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Annotation"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.note"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="unknown"/>
      </mapping>
    </element>
    <element id="ImagingStudy.description">
      <path value="ImagingStudy.description"/>
      <short value="機構產生的描述"/>
      <definition value="影像管理員(Imaging Manager)對此影像檢查的描述，它是由醫療機構自己生成的，用來描述或分類此影像檢查（元件）的內容。"/>
      <alias value="StudyDescription"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.description"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".text"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1030)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series">
      <path value="ImagingStudy.series"/>
      <short value="每項影像檢查有一個或多個系列(series)的實例"/>
      <definition value="每項影像檢查有一個或多個系列的影像或其他內容"/>
      <min value="1"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=OBSSER, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.id">
      <path value="ImagingStudy.series.id"/>
      <representation value="xmlAttr"/>
      <short value="Unique id for inter-element referencing"/>
      <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.extension">
      <path value="ImagingStudy.series.extension"/>
      <short value="Additional content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.modifierExtension">
      <path value="ImagingStudy.series.modifierExtension"/>
      <short value="Extensions that cannot be ignored even if unrecognized"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.uid">
      <path value="ImagingStudy.series.uid"/>
      <short value="此系列的DICOM系列實例UID"/>
      <definition value="此系列的DICOM系列實例UID"/>
      <comment value="[見DICOM PS3.3 C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html)"/>
      <requirements value="此系列的DICOM系列實例UID"/>
      <alias value="SeriesInstanceUID"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.uid"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="id"/>
      </type>
      <example>
        <label value="General"/>
        <valueId value="2.16.124.113543.6003.2588828330.45298.17418.2723805630"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,000E)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.number">
      <path value="ImagingStudy.series.number"/>
      <short value="此系列的數字識別碼"/>
      <definition value="此影像檢查中此系列的數字識別碼"/>
      <alias value="SeriesNumber"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.number"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <example>
        <label value="General"/>
        <valueUnsignedInt value="3"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[type=COMP, source[classCode=COMPOSITION, moodCode=EVN]].sequenceNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,0011)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.modality">
      <path value="ImagingStudy.series.modality"/>
      <short value="此系列實例所使用的成像儀器"/>
      <definition value="此系列序列所使用的成像儀器"/>
      <alias value="Modality"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.modality"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <strength value="extensible"/>
        <valueSet value="https://nhicore.nhi.gov.tw/pas/ValueSet/dicom-cid-29-AcquisitionModality"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".code"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0060)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.description">
      <path value="ImagingStudy.series.description"/>
      <short value="對此系列的一個簡短且易於閱讀的摘要"/>
      <definition value="對此系列的描述"/>
      <alias value="SeriesDescription"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.description"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <example>
        <label value="General"/>
        <valueString value="CT Surview 180"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".text"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,103E)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.numberOfInstances">
      <path value="ImagingStudy.series.numberOfInstances"/>
      <short value="此Series相關Instances的數量"/>
      <definition value="在醫學影像檢查中，顯示的SOP instances數量有時會比Resource實際包含的更多。這可能是由於instance的限制、安全問題或其他因素所致。如果Resource中包含至少一個instance的資料項目，那麼這個資料項目就應該被包含在內。"/>
      <alias value="NumberOfSeriesRelatedInstances"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.numberOfInstances"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP, subsetCode=SUMM].target[classCode=DGIMG, moodCode=EVN].repeatNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,1209)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.endpoint">
      <path value="ImagingStudy.series.endpoint"/>
      <short value="此系列的存取端點"/>
      <definition value="提供影像檢查資料存取的網路服務，包括查詢、觀看或下載影像檢查資料。更多有關如何使用DICOM端點的詳細資訊，請查看實作指引。整體檢查的網絡連接設定（端點）適用於檢查中的每一個影像系列。但如果某個影像系列有自己特定的網路連接設定(稱為系統端點)，且這個設定的類型（Endpoint.connectionType）與整體檢查的端點相同，則該系列將依據其自身的設定進行連接。"/>
      <comment value="常見的端點類型包括：DICOM WADO-RS，它透過RESTful API以原始或轉換後的格式（如JPG、PNG）來查DICOM影像檔案；DICOM WADO-URI，這也能查詢原始或轉換後的影像，但它是透過HTTP查詢方式實現；DICOM QIDO-RS，它允許使用RESTful查詢方式來獲取DICOM資訊，而無需下載影像檔案本身；還有IHE Invoke Image Display（IID），這是一種標準的網路影像查看器(viewer)啟動方式。"/>
      <requirements value="說明了如何查詢（例如：使用DICOM的WADO-URI和WADO-RS）其影像系列或單個系列的方法。整體檢查的基礎位置設定（baseLocation）通常適用於檢查中的所有影像系列。但如果某個影像系列有自己的基礎位置設定（稱為系列級baseLocation），且這個設定與整體檢查的設定類型相同，則該系列將按照自己的設定進行操作。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.endpoint"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Endpoint"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="Not supported"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.bodySite">
      <path value="ImagingStudy.series.bodySite"/>
      <short value="影像檢查的身體部位"/>
      <definition value="所檢查的解剖結構。參見DICOM第16部分附件L（http://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_L.html），瞭解DICOM與SNOMED-CT的對應關係。bodySite可指示成像的身體部位的橫向性；如果是這樣，它應與ImagingStudy.series.siderality的任何內容一致。"/>
      <alias value="BodyPartExamined"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.bodySite"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <strength value="required"/>
        <valueSet value="https://nhicore.nhi.gov.tw/pas/ValueSet/sct-body-site"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".targetSiteCode"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0018,0015)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.laterality">
      <path value="ImagingStudy.series.laterality"/>
      <short value="身體部位的側性"/>
      <definition value="影像檢查中所掃描的身體結構部位。要了解DICOM與SNOMED-CT的對應關係，可以查閱DICOM標準的第16部分[附件L](http://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_L.html)。在這裡提到的bodySite可能會表明被掃描的身體部位是左側還是右側；如果有指明側性，那麼這個資訊應該與ImagingStudy.series.laterality中的內容一致。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.laterality"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <strength value="extensible"/>
        <description value="應填入所綁定值集中適合的代碼，確定無適合的代碼才可以使用其他值集的代碼來表示。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/bodysite-laterality"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".targetSiteCode"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,0060)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.specimen">
      <path value="ImagingStudy.series.specimen"/>
      <short value="要進行影像檢查的檢體"/>
      <definition value="要進行影像檢查的檢體，例如：活體組織切片的整片掃描成像的檢體。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.specimen"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Specimen-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="Role[classCode=SPEC]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0040,0551) + (0040,0562)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.started">
      <path value="ImagingStudy.series.started"/>
      <short value="此系列何時開始的"/>
      <definition value="此系列開始的日期和時間"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.started"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="dateTime"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".effectiveTime"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0021) + (0008,0031)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer">
      <path value="ImagingStudy.series.performer"/>
      <short value="誰執行了此系列"/>
      <definition value="指明誰或什麼執行了這個系列，以及他們是如何參與的。"/>
      <comment value="如果不確定是誰執行了此系列，可以記錄這位執行者所在的機構。有時，病人本人或與病人有關的人士也可能是影像的拍攝者，比如在病人自己拍攝的影像。"/>
      <requirements value="執行者的資訊是記錄在每個系列的層面上，因為在一次檢查中，不同的系列可能會由不同的執行者在不同的時間點使用不同的設備來進行。而且一個系列有可能由多位執行者共同完成。"/>
      <alias value="PerformingPhysicianName"/>
      <alias value="OperatorName"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.performer"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.performer"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008, 1050) | (0008, 1052) | (0008, 1070) | (0008, 1072)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.id">
      <path value="ImagingStudy.series.performer.id"/>
      <representation value="xmlAttr"/>
      <short value="Unique id for inter-element referencing"/>
      <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.extension">
      <path value="ImagingStudy.series.performer.extension"/>
      <short value="Additional content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.modifierExtension">
      <path value="ImagingStudy.series.performer.modifierExtension"/>
      <short value="Extensions that cannot be ignored even if unrecognized"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.function">
      <path value="ImagingStudy.series.performer.function"/>
      <short value="執行的類型"/>
      <definition value="區分執行者在此系列中的參與類型"/>
      <comment value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
      <requirements value="可以區分不同執行者參與的類型"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.performer.function"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
        <profile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CodeableConcept-tw"/>
      </type>
      <condition value="ele-1"/>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="EventPerformerFunction"/>
        </extension>
        <strength value="extensible"/>
        <description value="應填入所綁定值集中適合的代碼，確定無適合的代碼才可以使用其他值集的代碼來表示。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/series-performer-function"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="CE/CNE/CWE"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="CD"/>
      </mapping>
      <mapping>
        <identity value="orim"/>
        <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.actor">
      <path value="ImagingStudy.series.performer.actor"/>
      <short value="誰執行了此系列"/>
      <definition value="表示誰或什麼人執行了該系列"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.performer.actor"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Practitioner-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/PractitionerRole-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Organization-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/CareTeam-twcore"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/Patient-twcore"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
        <targetProfile value="https://twcore.mohw.gov.tw/ig/twcore/StructureDefinition/RelatedPerson-twcore"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.actor"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="EVN.5 or by domain"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role[scoper.determinerCode=INSTANCE]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance">
      <path value="ImagingStudy.series.instance"/>
      <short value="系列中的一個SOP實例"/>
      <definition value="系列中的單一SOP實例，例如：影像或表現狀態。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.instance"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=DGIMG, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.id">
      <path value="ImagingStudy.series.instance.id"/>
      <representation value="xmlAttr"/>
      <short value="Unique id for inter-element referencing"/>
      <definition value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.extension">
      <path value="ImagingStudy.series.instance.extension"/>
      <short value="Additional content defined by implementations"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.modifierExtension">
      <path value="ImagingStudy.series.instance.modifierExtension"/>
      <short value="Extensions that cannot be ignored even if unrecognized"/>
      <definition value="May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
      <comment value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="Must have either extensions or value[x], not both"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.uid">
      <path value="ImagingStudy.series.instance.uid"/>
      <short value="DICOM影像。1.填寫DICOM欄位至ImagingStudy: Study Instance UID, Series Instance UID, SOP Instance, Modality, SOP Class UID。2.其餘資訊需額外填寫，包含: Status，影像檢查的身體部位 (SNOMED CT)、Procedure Code等。3.上傳影像需打包成DICOMDIR且壓縮成DCF。"/>
      <definition value="此影像或其他DICOM內容的DICOM SOP實例UID"/>
      <comment value="[見DICOM PS3.3 C.12.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html#sect_C.12.1)"/>
      <requirements value="DICOM SOP實例的UID"/>
      <alias value="SOPInstanceUID"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.uid"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="id"/>
      </type>
      <example>
        <label value="General"/>
        <valueId value="2.16.124.113543.6003.189642796.63084.16748.2599092903"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0018)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.sopClass">
      <path value="ImagingStudy.series.instance.sopClass"/>
      <short value="DICOM class 類型"/>
      <definition value="DICOM實例類型"/>
      <alias value="SOPClassUID"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.sopClass"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="sopClass"/>
        </extension>
        <strength value="extensible"/>
        <description value="應填入所綁定值集中適合的代碼，確定無適合的代碼才可以使用其他值集的代碼來表示。"/>
        <valueSet value="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_B.5.html#table_B.5-1"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[typeCode=COMP]. source[classCode=OBS, moodCode=EVN, code=&quot;sop class&quot;].value"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0016)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.number">
      <path value="ImagingStudy.series.instance.number"/>
      <short value="此系列中該實例的序號"/>
      <definition value="此系列中該實例的序號"/>
      <alias value="InstanceNumber"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.number"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <example>
        <label value="General"/>
        <valueUnsignedInt value="1"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[typeCode=COMP, source[classCode=OBSSER, moodCode=EVN]].sequenceNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,0013)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.title">
      <path value="ImagingStudy.series.instance.title"/>
      <short value="實例的描述"/>
      <definition value="實例的描述"/>
      <comment value="特別是對於取得後的分析物件，例如：SR、表現狀態、值對應等。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.title"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="All FHIR elements must have a @value or children"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".title"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0008) | (0007,0080) | (0040,A043) + (0008,0104) | (0042,0010)"/>
      </mapping>
    </element>
  </snapshot>
  <differential>
    <element id="ImagingStudy.identifier">
      <path value="ImagingStudy.identifier"/>
      <slicing>
        <discriminator>
          <type value="value"/>
          <path value="system"/>
        </discriminator>
        <rules value="closed"/>
      </slicing>
      <min value="1"/>
    </element>
    <element id="ImagingStudy.identifier:study-uid">
      <path value="ImagingStudy.identifier"/>
      <sliceName value="study-uid"/>
      <short value="整項影像檢查的識別碼。上傳至健保署時，必要填寫 DICOM 檢查實例 UID (Study Instance UID)"/>
      <min value="1"/>
      <max value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.identifier:study-uid.system">
      <path value="ImagingStudy.identifier.system"/>
      <min value="1"/>
      <patternUri value="urn:dicom:uid"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.identifier:study-uid.value">
      <path value="ImagingStudy.identifier.value"/>
      <min value="1"/>
      <example>
        <label value="General"/>
        <valueString value="urn:oid:2.16.886.2102.54.4546465747.465465465"/>
      </example>
      <example>
        <label value="General"/>
        <valueString value="urn:oid:2.16.886.2102.54.4546465747.0.46546546"/>
      </example>
      <constraint>
        <key value="StudyUID"/>
        <severity value="error"/>
        <human value="以`urn:oid:`開頭，後接一串由數字`0`-`9`及`.`組成的字串。第一個數字須為個位數，每個數字不得為`0`開頭（除非為單一的`0`），整體(不含`urn:oid:`)長度不得超過64 bytes。"/>
        <expression value="value.matches('^urn:oid:(0|[1-9])(.(0|[1-9][0-9]*)){0,63}$')"/>
        <source value="https://nhicore.nhi.gov.tw/pas/StructureDefinition/ImagingStudy-twpas"/>
      </constraint>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.modality">
      <path value="ImagingStudy.modality"/>
      <binding>
        <strength value="extensible"/>
        <valueSet value="https://nhicore.nhi.gov.tw/pas/ValueSet/dicom-cid-29-AcquisitionModality"/>
      </binding>
    </element>
    <element id="ImagingStudy.subject">
      <path value="ImagingStudy.subject"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="https://nhicore.nhi.gov.tw/pas/StructureDefinition/Patient-twpas"/>
      </type>
    </element>
    <element id="ImagingStudy.series">
      <path value="ImagingStudy.series"/>
      <min value="1"/>
    </element>
    <element id="ImagingStudy.series.modality">
      <path value="ImagingStudy.series.modality"/>
      <binding>
        <strength value="extensible"/>
        <valueSet value="https://nhicore.nhi.gov.tw/pas/ValueSet/dicom-cid-29-AcquisitionModality"/>
      </binding>
    </element>
    <element id="ImagingStudy.series.bodySite">
      <path value="ImagingStudy.series.bodySite"/>
      <short value="影像檢查的身體部位"/>
      <mustSupport value="true"/>
      <binding>
        <strength value="required"/>
        <valueSet value="https://nhicore.nhi.gov.tw/pas/ValueSet/sct-body-site"/>
      </binding>
    </element>
    <element id="ImagingStudy.series.instance.uid">
      <path value="ImagingStudy.series.instance.uid"/>
      <short value="DICOM影像。1.填寫DICOM欄位至ImagingStudy: Study Instance UID, Series Instance UID, SOP Instance, Modality, SOP Class UID。2.其餘資訊需額外填寫，包含: Status，影像檢查的身體部位 (SNOMED CT)、Procedure Code等。3.上傳影像需打包成DICOMDIR且壓縮成DCF。"/>
    </element>
  </differential>
</StructureDefinition>